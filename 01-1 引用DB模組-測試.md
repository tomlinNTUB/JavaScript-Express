# 01-1 引用DB模組-測試


### 執行結果
![GitHub Logo](/imgs/results01-1.jpg)


### 檔案放置方式
```
|__ main.js
|   
|__ <myAPI>
       |__ db.js    
```

### 假設
```
(1) 已安裝Node.js
(2) 已安裝MySQL, 並已安裝north資料庫
```


### (1) db.js

``` js
'use strict';

//引用mysql模組
var mysql = require('mysql');

//建立資料庫connection pool
var pool  = mysql.createPool({
    user: 'root',
    password: 'mysql',
    host: '127.0.0.1',
    database: 'north', 
    waitForConnections : true, 
    connectionLimit : 10       
});

//匯出pool物件
module.exports = pool;
```



### (2) main.js
``` js
'use strict';

//引用db.js的pool物件
var pool = require('./myAPI/db.js');

//讀取資料
pool.query('select * from product', function (error, results, fields) {
    if (error) throw error;
	
    results.forEach(function(item){
        console.log(item.proName);
    });		
});
```
