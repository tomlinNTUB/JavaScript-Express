<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>北商資管</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">

  </head>
  <body>

    <div class="container">
	<div class="row">
		<div class="col-md-12">
			<nav class="navbar navbar-toggleable-lg navbar-light bg-light">
				 
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="navbar-toggler-icon"></span>
				</button> <a class="navbar-brand" href="/">北商資管</a>
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="navbar-nav">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown">產品清單</a>
							<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
								<a class="dropdown-item" href="/product">產品</a> 
								<a class="dropdown-item" href="/productSupplier">產品-供應商</a> 
								<a class="dropdown-item" href="/productType">產品-型態</a>
								<a class="dropdown-item" href="/productSupplierType">產品-供應商-型態</a>
							</div>
						</li>					
					</ul>
					
					<form class="form-inline" action="/productQuery">
						<input class="form-control mr-sm-2" type="text" placeholder="請輸入產品編號" name="no"> 
						<button class="btn btn-primary my-2 my-sm-0" type="submit">
							查詢
						</button>
					</form>				
				</div>				
			</nav>
			<div class="jumbotron">
				<h2>
					產品資料
				</h2>
			</div>
			
			<!------------------------------>
			<!-- 分頁                     -->
			<!------------------------------>       
			<div class="row">
				<div class="col-md-12">
					<nav>
						<ul class="pagination">
							<li class="page-item">
								<a class="page-link">第<%=pageNo%>頁</a>
							</li>                   

							<% if(startPage>1){ %>
								<li  class="page-item">
									<a class="page-link" href="/product?pageNo=<%=(startPage-1)%>">上一區段...</a>
								</li>
							<% } %> 

							<% for(var i=startPage; i<startPage+navSegments; i++) {%>
								<% if(i<=totalPage){ %>
									<li class="page-item">
										<a class="page-link" href="/product?pageNo=<%=i%>"><%=i%></a>
									</li>
								<% } %> 
							<% } %>

							<% if(startPage+linePerPage<totalPage){ %>
								<li class="page-item">
									<a  class="page-link" href="/product?pageNo=<%=(startPage+navSegments)%>">...下一區段</a>
								</li>
							<% } %>                         
						</ul>
					</nav>
				</div>  
			</div>  

			
			<!------------------------------>
			<!-- 內容                     -->
			<!------------------------------>  
			<div class="row">				
				<div class="col-md-6">
					<table class="table">
						<thead>
							<tr>
								<th>
									編號
								</th>
								<th>
									名稱
								</th>
								<th>
									單價
								</th>
								<th>
									庫存量
								</th>
							</tr>
						</thead>
						<tbody>
							<% items.forEach(function(item){ %>
								<tr>
									<td>
										<%= item.proNo %>
									</td>
									<td>
										<%= item.proName %>
									</td>
									<td>
										<%= item.price %>
									</td>
									<td>
										<%= item.stockAmt %>
									</td>
								</tr>
							<% }); %>
						</tbody>
					</table>				
				
				</div>				
				
				<div class="col-md-6">
					<!-- 圖表位置 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->		
					<canvas id="myChart" width="100" height="50">
					</canvas>
					<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
				</div>	
			</div>
			<!------------------------------>  
		</div>
	</div>
</div>
	<script>
		//產生資料及標題陣列, 提供my.Chart.bundle.js使用
		var data=[];
		var label=[];
		
		<% items.forEach(function(item){ %>
			data.push(<%= item.price %>); 
			label.push('<%= item.proName %>');
		<% }); %>
	</script>
	
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
	<script src="js/Chart.bundle.js"></script>  
    <script src="js/my.Chart.bundle.js"></script> 
    <script src="js/scripts.js"></script>
  </body>
</html>
